/*	relay_server.c
 * This is sample code generated by rpcgen.
 * These are only templates and you can use them
 * as a guideline for developing your own functions.
 */

#include "relay.h"

char msg[SIZE];	/* <ии agregado */

void *
manda_1_svc(cadena arg1, cadena arg2,  struct svc_req *rqstp)
{	    /*HOST*/      /*MSG*/      /*SOLICITUD RPC*/
	static char * result;

	/*
	 * insert server code here
	 */
	fprintf(stdout,"[manda_1_svc]иии\t");	/* <ии agregado */
	/*msg = arg2;	TIPOS INCOMPATIBLES	* <ии agregado */
	strcpy(msg, arg2);			/* <ии agregado */

	return (void *) &result;
}

cadena *
retira_1_svc(cadena arg1,  struct svc_req *rqstp)
{	     /*HOST*/	   /*SOLICITUD RPC*/
	static cadena  result;

	/*
	 * insert server code here
	 */
	fprintf(stdout, "иии[retira_1_svc]\n");	/* <ии agregado */
	if( msg != NULL )			/* <ии agregado */
		result = msg;			/* <ии agregado */
	else					/* <ии agregado */
	{					/* <ии agregado */
		fprintf(stderr, "ERROR: BAD MESSAGE\n");/* <ии agregado */
		exit(4);			/* <ии agregado */
	}					/* <ии agregado */
	return &result;
}
/*	relay_server.c */
